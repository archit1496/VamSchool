<section class="container-fluid"> 
  <div class="mt-1 standardDiv" id="mainDiv"> 
    <div class="mt-1 innerDiv">
      <nav class="navbar navbar-expand-lg assignment-nav">
        <div class="navbar-collapse justify-content-left">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link mr-3" (click)="getActivityData('week=this', $event)" routerLinkActive="active">
                <b>This week</b>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link mr-3" (click)="getActivityData('week=last', $event)" routerLinkActive="active">
                <b>Last Week</b>
              </a>
            </li>
          </ul>
        </div>
      </nav>
      <div class="col-lg-12">
        <hr><h5 class="mt-2"><b>{{updateHeaderText}}</b></h5><hr>
      </div> 
      <div *ngIf="isLoading" class="text-center">
        Loading Data, Please wait...
      </div> 
      <!-- <p *ngIf="serverCreated;then firstClass else secondClass"></p> -->
      <div class="grid" *ngIf="firstClass">
        <div class='assignment-file-cnt' *ngFor="let data of studentAssignmentDataSubjectWise"
          (click)="fetchAssignmentData(data?.id);selectedStudentAssignmentDataSubjectWise= data">
          <div class="assignment-file"></div>
          <div class="assignment-description">
            <p class="cursor-pointer class-name"> {{ data?.class_of.class_name }}{{ data?.class_of.section }}</p>
          </div>
        </div>
      </div>

      <div class="grid" *ngIf="secondClass">
        <div class="assignment-file-cnt mt-2" *ngFor="let data of assignmentData" (click)="onAssignmentClick(data?.id);this.AssignmentClick = data;">
          <div class='assignment-file'></div>
          <div class="assignment-description">
            <p class="cursor-pointer class-name">{{data?.name}}</p>
          </div>
        </div>
        <div class="assignment-file-cnt mt-2" id="secondClass" (click)="openForm()">
          <div class='assignment-file'></div>
          <label for="upload-notes" class="addBtn ml-5">
            <i class="fa fa-plus" aria-hidden="true"></i>
          </label>
        </div>
      </div>

      <div class="grid" *ngIf="thirdClass">
        <div class="assignment-file-cnt mt-2" *ngFor="let data of thirdPage" (click)="onAssignmentClick2(data?.id);">
          <div class='assignment-file'></div>
          <div class="assignment-description">
            <p class="cursor-pointer class-name">{{data?.topic}}</p>
          </div>
        </div>
        <div class="assignment-file-cnt mt-2" id="thirdClass" (click)="openForm2()">
          <div class="assignment-file"></div>
          <label for="upload-notes" class="addBtn ml-5">
            <i class="fa fa-plus" aria-hidden="true"></i>
          </label>
        </div>
      </div>

      <app-add-new-assignment [status]="status" (classSelected)="postAssignmentData($event)" *ngIf="openAddNewAssignmentPage"></app-add-new-assignment>
      
      <div *ngIf="studentAssignmentDataSubjectWise?.length == 0" style="text-align: center">
        <b>No Data To Display</b>
      </div>

      <hr *ngIf="showHideList">
      <ul class="showlist" *ngIf="showHideFinalActivity">
        <li class="header" style="border-bottom: 1px solid;"
          *ngFor="let studentActivity of particularAssign; let j = index">
          <div (click)="showSubItem(j)" class="subitem row">
            <div class='col-lg-12 col-sm-3 text-overflow-ellipse'>
              {{studentActivity.student.first_name + ' ' +studentActivity.student.first_name}}
            </div>
            <div class='col-lg-12 col-sm-3 text-overflow-ellipse'>
              {{studentActivity.question.topic}}</div>
            <div class='col-lg-12 col-sm-3 cursor-pointer text-overflow-ellipse link-blue'>
              {{studentActivity.doc_answer.slice((Math.max(0, studentActivity.doc_answer.lastIndexOf(".")) || Infinity) + 1)}}</div>
            <div class='col-lg-12 col-sm-3 text-overflow-ellipse'>6 page</div>
          </div>
          <div *ngIf="visibleIndex === j" class="subheader row">
            <div class='col-lg-6 col-sm-6'>
              <button class='solid-btn-voilet' (click)="download(studentActivity)">Download</button>
              <label for="files" class="solid-btn-green">Upload</label>
              <input class='solid-btn-voilet' id="files" style="visibility:hidden;" type="file" 
                      (change)="update(studentActivity, $event)">
            </div>
            <div class='marks-given col-lg-6 col-sm-6'>
              <input type="text" value="{{studentActivity.mark}}" 
                    (change)="update(studentActivity, $event)">
              <span>/90</span>
            </div>
          </div>
        </li>
      </ul>


      <nav class="navbar navbar-expand-lg" style="height: 35px;" *ngIf="showHideList">
        <div class="navbar-collapse justify-content-left">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link mr-3">
                <b>X Std</b>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link mr-3">
                <b>IX Std</b>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <ul class="showlist" *ngIf="showHideActivity">
        <li class="alignlist row" *ngFor="let studentActivity of activityData">
          <div class="col-lg-6">{{studentActivity.student.first_name + ' ' +studentActivity.student.first_name}} just submitted his
            assignment
          </div>
          <div class="col-lg-3">{{studentActivity.question.topic}}"</div>
          <div class="col-lg-3">6 page</div>
        </li>
      </ul>
    </div>
  </div>
</section>