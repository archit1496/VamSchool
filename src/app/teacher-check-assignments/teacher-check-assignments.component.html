<section class="container-fluid"> 
  <div class="standardDiv" id="mainDiv"> 
    <div class="innerDiv">
      <nav class="navbar navbar-expand-lg assignment-nav">
        <div class="navbar-collapse justify-content-left">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link mr-3" (click)="getActivityData('week=this', $event)" routerLinkActive="active">
                <b>This week</b>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link mr-3" (click)="getActivityData('week=last', $event)" routerLinkActive="active">
                <b>Last Week</b>
              </a>
            </li>
          </ul>
        </div>
      </nav>
      <div class="col-lg-12">
        <h5 class="mt-4 mb-4"><b>{{updateHeaderText}}</b></h5>
      </div> 
      <div *ngIf="isLoading" class="text-center">
        Loading Data, Please wait...
      </div> 
      <!-- <p *ngIf="serverCreated;then firstClass else secondClass"></p> -->
      <div class="grid" *ngIf="firstClass">
        <div class='assignment-file-cnt' *ngFor="let data of studentAssignmentDataSubjectWise"
          (click)="fetchAssignmentData(data?.id);selectedStudentAssignmentDataSubjectWise= data">
          <div class="assignment-file"></div>
          <div class="assignment-description">
            <p class="cursor-pointer class-name"> {{ data?.class_of.class_name }}{{ data?.class_of.section }}</p>
          </div>
        </div>
      </div>

      <div class="grid" *ngIf="secondClass">
        <div class="assignment-file-cnt mt-2" id="secondClass" (click)="openForm()">
          <div class='assignment-file'></div>
          <label for="upload-notes" class="addBtn ml-5">
            <i class="fa fa-plus" aria-hidden="true"></i>
          </label>
        </div>
        <div class="assignment-file-cnt mt-2" *ngFor="let data of assignmentData" (click)="onAssignmentClick(data?.id);this.AssignmentClick = data;">
          <div class='assignment-file'></div>
          <div class="assignment-description">
            <p class="cursor-pointer class-name">{{data?.name}}</p>
          </div>
        </div>
      </div>

      <div class="grid" *ngIf="thirdClass">
        <div class="assignment-file-cnt mt-2" *ngFor="let data of thirdPage" (click)="onAssignmentClick2(data?.id);">
          <div class='assignment-file'></div>
          <div class="assignment-description">
            <p class="cursor-pointer class-name">{{data?.topic}}</p>
          </div>
        </div>
        <div class="assignment-file-cnt mt-2" id="thirdClass" (click)="openForm2()">
          <div class="assignment-file"></div>
          <label for="upload-notes" class="addBtn ml-5">
            <i class="fa fa-plus" aria-hidden="true"></i>
          </label>
        </div>
      </div>

      <app-add-new-assignment [status]="status" (classSelected)="postAssignmentData($event)" *ngIf="openAddNewAssignmentPage"></app-add-new-assignment>
      
      <div *ngIf="studentAssignmentDataSubjectWise?.length == 0" style="text-align: center">
        <b>No Data To Display</b>
      </div>

      <hr *ngIf="showHideList">
      <div class="showlist" *ngIf="showHideFinalActivity">
        <div class="header row" *ngFor="let studentActivity of particularAssign; let j = index" (click)="showSubItem(j)">
          <div class="due-date">Within Deadline</div>
          <div class="col-lg-12">
            <div class='student-name col-lg-12 col-sm-12 col-12 text-overflow-ellipse'>
              <p>{{studentActivity.student.first_name + ' ' +studentActivity.student.first_name}}</p>
            </div> 
            <div class="col-lg-6 col-sm-12 col-12">
              <p>Marks: <input class="marks-input" type="text" value="{{studentActivity.mark}}" 
                (change)="update(studentActivity, $event)"><span> / 90</span></p> 
            </div>
            <!-- <div class='col-lg-12 col-sm-12 col-12 text-overflow-ellipse'>
              {{studentActivity.question.topic}}</div>
            <div class='col-lg-12 col-sm-12 cursor-pointer text-overflow-ellipse link-blue'>
              {{studentActivity.doc_answer.slice((Math.max(0, studentActivity.doc_answer.lastIndexOf(".")) || Infinity) + 1)}}</div>
            <div class='col-lg-12 col-sm-3 text-overflow-ellipse'>6 page</div> -->
          </div>
          <div *ngIf="visibleIndex === j" class="col-lg-12">
            <div class="subheader col-lg-6 col-sm-12 col-12">
            <!-- <div class='col-lg-12 col-sm-12'>
              <div class="col-lg-4 col-sm-6">
                <label for="files" class="solid-btn-green">Upload</label>
              </div>
              <div class="col-lg-4 col-sm-6">
                <input class='solid-btn-voilet' id="files" style="visibility:hidden;" type="file" 
                      (change)="update(studentActivity, $event)">    
              </div>
              <div class='col-lg-4 col-sm-12 col-12'>
                <button class='solid-btn-voilet' (click)="download(studentActivity)">Download</button>
              </div>
            </div> --><p>Submitted on: </p>
            </div>
            <div class="assignment-description-btn-cnt col-lg-6 col-sm-12 col-12">
              <button class="submit-marks solid-btn-green">Submit Marks</button>
            </div>
          </div>
        </div>
      </div>


      <nav class="navbar navbar-expand-lg" style="height: 35px;" *ngIf="showHideList">
        <div class="navbar-collapse justify-content-left">
          <ul class="navbar-nav">
          <li class="nav-item">
              <a class="nav-link mr-3">
                <b>X Std</b>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link mr-3">
                <b>IX Std</b>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <ul class="showlist" *ngIf="showHideActivity">
        <li class="alignlist row" *ngFor="let studentActivity of activityData">
          <div class="col-lg-6">{{studentActivity.student.first_name + ' ' +studentActivity.student.first_name}} just submitted his
            assignment
          </div>
          <div class="col-lg-3">{{studentActivity.question.topic}}"</div>
          <div class="col-lg-3">6 page</div>
        </li>
      </ul>
      
    </div>
  </div>
</section>